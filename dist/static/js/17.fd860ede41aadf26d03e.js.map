{"version":3,"sources":["webpack:///./src/components/admin/OrganizationTree.vue?9133","webpack:///./src/components/admin/OrganizationTree.vue","webpack:///src/components/admin/OrganizationTree.vue"],"names":["esExports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","directives","name","rawName","value","expression","data","treeData","props","defaultProps","node-key","expand-on-click-node","scopedSlots","_u","key","fn","ref","node","_s","label","on","click","append","remove","title","visible","addFormVisible","close-on-click-modal","update:visible","$event","model","addForm","label-width","rules","formRules","prop","auto-complete","callback","$$v","$set","placeholder","_l","item","slot","type","loading","addLoading","addSubmit","editFormVisible","editForm","editLoading","editSubmit","staticRenderFns","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_OrganizationTree_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_OrganizationTree_vue___default","n","__WEBPACK_IMPORT_KEY__","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_742abd6d_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_OrganizationTree_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","children","listLoading","orgTypeOptions","validateStateOptions","orgName","required","message","trigger","orgType","validateState","id","parentId","methods","getResult","_this","param","_assign2","default","$ajax","method","url","then","resultData","_this2","$confirm","URLSearchParams","res","$message","parent","index","findIndex","splice","catch","_this3","$refs","validate","valid","resetFields","_this4","mounted"],"mappings":"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","file":"static/js/17.fd860ede41aadf26d03e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\"机构管理\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"custom-tree-container\"},[_c('div',{staticClass:\"block\"},[_c('el-tree',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.treeData,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"expand-on-click-node\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label)+\"                           \\n                          \"),_c('i',{staticClass:\"el-icon-plus\",on:{\"click\":function () { return _vm.append(node,'1'); }}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit-outline\",on:{\"click\":function () { return _vm.append(node,'2'); }}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function () { return _vm.remove(node, data); }}})])])}}])})],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.addFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addFormVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"label-width\":\"80px\",\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"机构名称\",\"prop\":\"orgName\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.orgName),callback:function ($$v) {_vm.$set(_vm.addForm, \"orgName\", $$v)},expression:\"addForm.orgName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"组织类型\",\"prop\":\"orgType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.addForm.orgType),callback:function ($$v) {_vm.$set(_vm.addForm, \"orgType\", $$v)},expression:\"addForm.orgType\"}},_vm._l((_vm.orgTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否有效\",\"prop\":\"validateState\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.addForm.validateState),callback:function ($$v) {_vm.$set(_vm.addForm, \"validateState\", $$v)},expression:\"addForm.validateState\"}},_vm._l((_vm.validateStateOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.addLoading},on:{\"click\":_vm.addSubmit}},[_vm._v(\"提交\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.editFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editFormVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"label-width\":\"80px\",\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"机构名称\",\"prop\":\"orgName\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.orgName),callback:function ($$v) {_vm.$set(_vm.editForm, \"orgName\", $$v)},expression:\"editForm.orgName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"组织类型\",\"prop\":\"orgType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.editForm.orgType),callback:function ($$v) {_vm.$set(_vm.editForm, \"orgType\", $$v)},expression:\"editForm.orgType\"}},_vm._l((_vm.orgTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否有效\",\"prop\":\"validateState\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.editForm.validateState),callback:function ($$v) {_vm.$set(_vm.editForm, \"validateState\", $$v)},expression:\"editForm.validateState\"}},_vm._l((_vm.validateStateOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.editLoading},on:{\"click\":_vm.editSubmit}},[_vm._v(\"提交\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-742abd6d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/OrganizationTree.vue\n// module id = uJSN\n// module chunks = 17","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-742abd6d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./OrganizationTree.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./OrganizationTree.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./OrganizationTree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-742abd6d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./OrganizationTree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/OrganizationTree.vue\n// module id = x1QS\n// module chunks = 17","  <template> \n  <div class=\"table\"> <!-- 页面表格begin -->\n            <div class=\"crumbs\"> <!-- 页面标题begin -->\n                <el-breadcrumb separator=\"/\">\n                    <el-breadcrumb-item><i class=\"el-icon-tickets\"></i>机构管理</el-breadcrumb-item>\n                </el-breadcrumb>\n            </div> <!-- 页面标题end--> \n            <div class=\"container\"><!-- 页面内容区begin -->\n        <div class=\"custom-tree-container\">  \n              <div class=\"block\">   \n                  <el-tree   :data=\"treeData\" :props=\"defaultProps\"   node-key=\"id\" v-loading=\"listLoading\"    :expand-on-click-node=\"false\" >   \n                          <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n                              <span>{{node.label}}                           \n                            <i class=\"el-icon-plus\" @click=\"() => append(node,'1')\"></i>\n                            <i class=\"el-icon-edit-outline\" @click=\"() => append(node,'2')\"></i>\n                            <i class=\"el-icon-delete\" @click=\"() => remove(node, data)\"></i>\n                            </span>   \n                          </span>\n                  </el-tree>             \n              </div>\n        </div>\n      <!--新增界面-->\n      <el-dialog title=\"新增\" :visible.sync=\"addFormVisible\" :close-on-click-modal=\"false\">         \n        <el-form :model=\"addForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"addForm\">\n          <el-form-item label=\"机构名称\" prop=\"orgName\">\n            <el-input v-model=\"addForm.orgName\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n              <el-form-item label=\"组织类型\" prop=\"orgType\">\t\t\t\t\n                  <el-select v-model=\"addForm.orgType\" placeholder=\"请选择\">\n                    <el-option v-for=\"item in orgTypeOptions\"  :key=\"item.value\"  :label=\"item.label\"  :value=\"item.value\"></el-option>\n              </el-select>\n          </el-form-item>\t\t\n                  <el-form-item label=\"是否有效\" prop=\"validateState\">\t\t\t\t\n                  <el-select v-model=\"addForm.validateState\" placeholder=\"请选择\">\n                    <el-option v-for=\"item in validateStateOptions\"  :key=\"item.value\"  :label=\"item.label\"  :value=\"item.value\"></el-option>\n              </el-select>\n          </el-form-item>\t\t\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"addFormVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"addSubmit\" :loading=\"addLoading\">提交</el-button>\n        </div>\n      </el-dialog>\n          <!--编辑界面-->\n      <el-dialog title=\"编辑\" :visible.sync=\"editFormVisible\" :close-on-click-modal=\"false\">         \n        <el-form :model=\"editForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"editForm\">\n          <el-form-item label=\"机构名称\" prop=\"orgName\">\n            <el-input v-model=\"editForm.orgName\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n              <el-form-item label=\"组织类型\" prop=\"orgType\">\t\t\t\t\n                  <el-select v-model=\"editForm.orgType\" placeholder=\"请选择\">\n                    <el-option v-for=\"item in orgTypeOptions\"  :key=\"item.value\"  :label=\"item.label\"  :value=\"item.value\"></el-option>\n              </el-select>\n          </el-form-item>\t\t\n                  <el-form-item label=\"是否有效\" prop=\"validateState\">\t\t\t\t\n                  <el-select v-model=\"editForm.validateState\" placeholder=\"请选择\">\n                    <el-option v-for=\"item in validateStateOptions\"  :key=\"item.value\"  :label=\"item.label\"  :value=\"item.value\"></el-option>\n              </el-select>\n          </el-form-item>\t\t\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"editFormVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"editSubmit\" :loading=\"editLoading\">提交</el-button>\n        </div>\n      </el-dialog>\n       </div><!-- 页面内容区end-->            \n    </div><!-- 页面表格end -->\n   </template> \n  <script>\n  let id = 1000;\n  export default {\n    name: 'OrganizationTree',\n    data() {\n      return {\n        //组织结构数据\n        treeData: [],\n        //属性名称转换\n        defaultProps: {\n            children: 'children',\n            label: 'name'\n          }    \n        ,\n        //组织结构树Loading\n        listLoading: false,\n        //添加组织结构dialog显示状态\n        addFormVisible: false,\n        //添加按钮Loading加载\n        addLoading: false,\n        //组织类型下拉框\n        orgTypeOptions: [{\n            value: 'org',\n            label: '组织'\n          }, {\n            value: 'dept',\n            label: '部门'\n          }, {\n            value: 'store',\n            label: '门店'\n          }],\n          //是否有效下拉框\n        validateStateOptions: [{\n            value: '0',\n            label: '无效'\n          }, {\n            value: '1',\n            label: '有效'\n          }\n      ],\n        //输入框验证\n        formRules: {\n          orgName: [{ required: true, message: \"请输入机构名称\", trigger: \"blur\" }],\n          orgType: [\n            { required: true, message: \"请选择组织类型\", trigger: \"blur\" }\n          ],\n          validateState: [\n            { required: true, message: \"请选择是否有效\", trigger: \"blur\" }\n          ]\n        },\n      //新增界面数据\n        addForm: {\n          id:\"\",\n          orgName: \"\",\n          orgType: \"\",\n          validateState: \"\",\n          parentId:\"\"       \n        },\n        //编辑组织结构dialog显示状态\n        editFormVisible: false,\n        //编辑按钮Loading加载\n        editLoading: false,\n        //编辑界面数据\n        editForm: {\n          id:\"\",\n          orgName: \"\",\n          orgType: \"\",\n          validateState: \"\",\n          parentId:\"\"       \n        },\n      };\n    },\n    methods: {\n      //获取组织结构信息\n      getResult: function() {\n        var _this = this;\n        this.listLoading = true;     \n        let param = Object.assign({}, {});\n        this.$ajax({\n          method: \"post\",\n          url: \"/api/sysorg-api/querySysOrgList\",\n          data: param\n        }).then(\n          function(resultData) {\n            _this.treeData = resultData.data.data;        \n            _this.listLoading = false;\n          },\n          function(resultData) {\n            _this.treeData.message = \"Local Reeuest Error!\";\n          }\n        );\n      },\n      //添加组织结构节点\n      append(node,param) {\n          //父节点id\n        //console.log(\"父级节点ID：\"+node.data.parentId);\n        //当前节点id\n        //console.log(\"当前节点ID：\"+node.data.id);\n          //当前节点orgType\n        //console.log(\"orgType: \"+node.data.orgType);\n          //当前节点validateState\n        //console.log(\"validateState: \"+node.data.validateState);\n        if(param=='1')\n        {\n      //新增组织节点时获取当前节点的ID     \n        this.addForm.parentId=node.data.id;\n        this.addForm.id='0';\n        //显示添加组织结构界面\n        this.addFormVisible = true;\n        }\n        if(param=='2')\n        {\n        //显示添加组织结构界面\n        this.editFormVisible = true;\n        //编辑信息展示\n        this.editForm.id=node.data.id;\n        this.editForm.orgName=node.data.name;\n        this.editForm.orgType=node.data.orgType;\n        this.editForm.validateState=node.data.validateState;\n        this.editForm.parentId=node.data.parentId;          \n        }\n\n        },    \n      //删除\n      remove(node, data) {\n          this.$confirm(\"确认删除该记录吗?\", \"提示\", {\n          type: \"warning\"\n          })\n          .then(() => {\n          let param = new URLSearchParams();\n          param.append(\"orgid\", node.data.id);\n            this.$ajax({\n              method: \"post\",\n              url: \"/api/sysorg-api/deleteSysOrg\",\n              data: param\n            }).then(res => {\n              this.$message({\n                message: \"删除成功\",\n                type: \"success\"\n              }); \n              const parent = node.parent;\n              const children = parent.data.children || parent.data;\n              const index = children.findIndex(d => d.id === data.id);\n              children.splice(index, 1);         \n            \n            });\n          })\n          .catch(() => {});\n              \n      },  \n      //新增\n      addSubmit: function() {      \n        this.$refs.addForm.validate(valid => {\n          if (valid) {\n            this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\n              this.addLoading = true;\n              let param = Object.assign({}, this.addForm);              \n              this.$ajax({\n                method: \"post\",\n                url: \"/api/sysorg-api/addOrg\",\n                data: param\n              }).then(res => {\n                this.addLoading = false;\n                this.$message({\n                  message: \"提交成功\",\n                  type: \"success\"\n                });\n                this.$refs[\"addForm\"].resetFields();\n                this.addFormVisible = false;\n                //重新获取新增后的组织机构数据\n                this.getResult();\n              });\n            });\n          }\n        });\n      },\n      //编辑\n      editSubmit: function() {      \n        this.$refs.editForm.validate(valid => {\n          if (valid) {\n            this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\n              this.editLoading = true;\n              let param = Object.assign({}, this.editForm);              \n              this.$ajax({\n                method: \"post\",\n                url: \"/api/sysorg-api/addOrg\",\n                data: param\n              }).then(res => {\n                this.editLoading = false;\n                this.$message({\n                  message: \"提交成功\",\n                  type: \"success\"\n                });\n                this.$refs[\"editForm\"].resetFields();\n                this.editFormVisible = false;\n                //重新获取新增后的组织机构数据\n                this.getResult();\n              });\n            });\n          }\n        });\n      }\n    },\n    mounted() {\n      //获取组织结构信息\n      this.getResult(); \n      \n    }\n  };\n  </script>\n\n  <style>\n  .custom-tree-node {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 14px;\n    padding-right: 8px;\n  }\n\n    .el-row {\n      margin-bottom: 20px;\n    \n    }\n    .el-col {\n      border-radius: 4px;\n    }\n    .bg-purple-dark {\n      background: #99a9bf;\n    }\n    .bg-purple {\n      background: #d3dce6;\n    }\n    .bg-purple-light {\n      background: #e5e9f2;\n    }\n    .grid-content {\n      border-radius: 4px;\n      min-height: 36px;\n    }\n    .row-bg {\n      padding: 10px 0;\n      background-color: #f9fafc;\n    }\n\n  </style>\n\n\n// WEBPACK FOOTER //\n// src/components/admin/OrganizationTree.vue"],"sourceRoot":""}