webpackJsonp([4],{TpN9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("pAPE"),r=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,function(){return i[e]})}(o);var l=a("eTey");var n=function(e){a("kTPW")},s=a("C7Lr")(r.a,l.a,!1,n,null,null);t.default=s.exports},eTey:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container _user"},[a("el-form",{ref:"formSearch",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formSearch}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"模糊匹配"},model:{value:e.formSearch.name,callback:function(t){e.$set(e.formSearch,"name",t)},expression:"formSearch.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录名",prop:"loginName"}},[a("el-input",{attrs:{placeholder:"登录名"},model:{value:e.formSearch.loginName,callback:function(t){e.$set(e.formSearch,"loginName",t)},expression:"formSearch.loginName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-select",{attrs:{placeholder:"性别"},model:{value:e.formSearch.gender,callback:function(t){e.$set(e.formSearch,"gender",t)},expression:"formSearch.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{type:"number",placeholder:"手机号"},model:{value:e.formSearch.phone,callback:function(t){e.$set(e.formSearch,"phone",t)},expression:"formSearch.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮件",prop:"email"}},[a("el-input",{attrs:{placeholder:"邮件"},model:{value:e.formSearch.email,callback:function(t){e.$set(e.formSearch,"email",t)},expression:"formSearch.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位",prop:"position"}},[a("el-input",{attrs:{placeholder:"岗位"},model:{value:e.formSearch.position,callback:function(t){e.$set(e.formSearch,"position",t)},expression:"formSearch.position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"组织",prop:"organization"}},[a("el-input",{attrs:{placeholder:"组织"},model:{value:e.formSearch.organization,callback:function(t){e.$set(e.formSearch,"organization",t)},expression:"formSearch.organization"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账户状态",prop:"state"}},[a("el-select",{attrs:{placeholder:"账户状态"},model:{value:e.formSearch.state,callback:function(t){e.$set(e.formSearch,"state",t)},expression:"formSearch.state"}},[a("el-option",{attrs:{label:"启用",value:"启动"}}),e._v(" "),a("el-option",{attrs:{label:"停用",value:"停用"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建日期",prop:"createtime"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formSearch.createtime,callback:function(t){e.$set(e.formSearch,"createtime",t)},expression:"formSearch.createtime"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"50px"},attrs:{label:" "}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"warning",plain:""},on:{click:e.onReset}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mgb15"},[a("el-button",{attrs:{size:"small",round:"",type:"primary"},on:{click:e.onOpenAdd}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{size:"small",round:"",type:"danger"},on:{click:e.onDeleteMany}},[e._v("批量删除")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginName",label:"登录名",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",align:"center",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮件",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"岗位",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"organization",label:"组织",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"账户状态",align:"center",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建日期",align:"center",formatter:this.$common.timestampToTime,width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新日期",align:"center",formatter:this.$common.timestampToTime,width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,sizes,prev, pager, next,jumper","current-page":e.pageInfo.currentPage,"page-size":e.pageInfo.pageSize,total:e.pageInfo.pageTotal,"page-sizes":[5,10,20,50]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.formEditTitle,visible:e.dialogEdittVisible,width:"700px"},on:{"update:visible":function(t){e.dialogEdittVisible=t},close:function(t){return e.closeDialog("formEdit")}}},[a("el-form",{ref:"formEdit",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,rules:e.rulesEdit,disabled:e.formEditDisabled,inline:!0,model:e.formEdit}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.formEdit.name,callback:function(t){e.$set(e.formEdit,"name",t)},expression:"formEdit.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录名",prop:"loginName"}},[a("el-input",{attrs:{placeholder:"登录名"},model:{value:e.formEdit.loginName,callback:function(t){e.$set(e.formEdit,"loginName",t)},expression:"formEdit.loginName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-select",{attrs:{placeholder:"性别"},model:{value:e.formEdit.gender,callback:function(t){e.$set(e.formEdit,"gender",t)},expression:"formEdit.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"账户状态",prop:"state"}},[a("el-select",{attrs:{placeholder:"账户状态"},model:{value:e.formEdit.state,callback:function(t){e.$set(e.formEdit,"state",t)},expression:"formEdit.state"}},[a("el-option",{attrs:{label:"启用",value:"启动"}}),e._v(" "),a("el-option",{attrs:{label:"停用",value:"停用"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{type:"number",placeholder:"手机号"},model:{value:e.formEdit.phone,callback:function(t){e.$set(e.formEdit,"phone",t)},expression:"formEdit.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮件",prop:"email"}},[a("el-input",{attrs:{placeholder:"邮件"},model:{value:e.formEdit.email,callback:function(t){e.$set(e.formEdit,"email",t)},expression:"formEdit.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位",prop:"position"}},[a("el-input",{attrs:{placeholder:"岗位"},model:{value:e.formEdit.position,callback:function(t){e.$set(e.formEdit,"position",t)},expression:"formEdit.position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"组织",prop:"organization"}},[a("el-input",{attrs:{placeholder:"组织"},model:{value:e.formEdit.organization,callback:function(t){e.$set(e.formEdit,"organization",t)},expression:"formEdit.organization"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.dialogType,expression:"dialogType=='edit'"}],attrs:{label:"重置密码",prop:"resetPwd"}},[a("el-checkbox",{model:{value:e.formEdit.resetPwd,callback:function(t){e.$set(e.formEdit,"resetPwd",t)},expression:"formEdit.resetPwd"}},[e._v(e._s(1==e.formEdit.resetPwd?"选中":"未选中"))])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogEdittVisible=!1}}},[e._v("取 消")]),e._v(" "),e.formEditDisabled?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};t.a=i},kTPW:function(e,t){},pAPE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(a("aA9S")),r=o(a("qzrg"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user",data:function(){return{listLoading:!1,pageInfo:{currentPage:1,pageSize:5,pageTotal:80},formSearch:{name:"",loginName:"",gender:"",phone:"",email:null,position:"",organization:null,state:null,createStartDate:null,createEndDate:null,createTime:null},formEdit:{name:"",loginName:"",gender:"",phone:"",email:null,position:"",organization:null,state:"",resetPwd:!1},rulesEdit:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:4,message:"长度在 2 到 4 个字符",trigger:"blur"}],loginName:[{required:!0,message:"请输入登录名",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],state:[{required:!0,message:"请选择账户状态",trigger:"change"}]},formEditTitle:"编辑",formEditDisabled:!1,dialogEdittVisible:!1,dialogType:"",tableData:[{id:"1",name:"张三",loginName:"zhangsan",gender:"1",phone:"18712323133",email:"12@343",position:"高级研发",organization:"商城部",state:"启用",createTime:"2016-05-02",updateTime:"2016-05-03"}],labelPosition:"right",labelWidth:"80px",formLabelWidth:"120px",multipleSelection:[]}},computed:{},filters:{convertType:function(e){return 1==e?"留言":2==e?"建议":3==e?"BUG":void 0}},mounted:function(){this.onSearch();returnCitySN.cip,returnCitySN.cname},methods:{onSearch:function(){var e=this;this.listLoading=!0,this.formSearch.createtime&&(this.formSearch.startdate=this.formSearch.createtime[0],this.formSearch.enddate=this.formSearch.createtime[1]);var t=(0,i.default)({},this.formSearch,this.pageInfo);r.default.userApi.getList(t).then(function(t){if(e.listLoading=!1,t&&t.data){var a=t.data;"SUCCESS"==a.status?(e.pageInfo.pageTotal=a.count,e.tableData=a.data):a.message&&e.$message({message:a.message,type:"error"})}}).catch(function(t){e.listLoading=!1,e.$message({message:"查询异常，请重试",type:"error"})})},handleSave:function(){"add"==this.dialogType?this.save():"edit"==this.dialogType?this.update():this.$message({message:"操作异常",type:"error"})},save:function(){var e=this;this.$refs.formEdit.validate(function(t){if(t){var a=(0,i.default)({},e.formEdit);r.default.userApi.add(a).then(function(t){if(t&&t.data){var a=t.data;if(a&&"SUCCESS"==a.status)return e.$message({message:"执行成功",type:"success"}),e.dialogEdittVisible=!1,void e.onSearch()}e.$message({message:"执行失败，请重试",type:"error"})}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"})})}})},update:function(){var e=this;this.$refs.formEdit.validate(function(t){if(t){var a=(0,i.default)({},e.formEdit);r.default.userApi.update(a).then(function(t){if(t&&t.data){var a=t.data;if(a&&"SUCCESS"==a.status)return e.$message({message:"执行成功",type:"success"}),e.dialogEdittVisible=!1,void e.onSearch()}e.$message({message:"执行失败，请重试",type:"error"})}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"})})}})},handleDelete:function(e,t){var a=this,i=t.id;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.default.userApi.delete({id:i}).then(function(e){a.$common.isSuccess(e,function(){a.onSearch()})}).catch(function(e){a.$message({message:"执行失败，请重试",type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},onDeleteMany:function(){var e=this,t=this.multipleSelection.map(function(e){return e.id});0!=t.length?this.$confirm("此操作将批量永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.default.userApi.deleteBatch({ids:t}).then(function(t){e.$common.isSuccess(t,function(){e.onSearch()})}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请选择要删除的项",type:"warn"})},onReset:function(){this.$refs.formSearch.resetFields()},onOpenAdd:function(){var e=this;this.dialogEdittVisible=!0,this.$nextTick(function(){e.dialogType="add",e.formEditTitle="新增",e.formEditDisabled=!1})},handleEdit:function(e,t){var a=this;this.dialogEdittVisible=!0,this.$nextTick(function(){a.dialogType="edit",a.formEditTitle="编辑",a.formEditDisabled=!1,a.formEdit=(0,i.default)({resetPwd:!1},t),a.formEdit.gender+=""})},handleDetail:function(e,t){var a=this;this.dialogEdittVisible=!0,this.$nextTick(function(){a.dialogType="show",a.formEditTitle="详情",a.formEditDisabled=!0,a.formEdit=(0,i.default)({},t),a.formEdit.gender+=""})},closeDialog:function(e){this.$refs[e].resetFields()},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.onSearch()},handleCurrentChange:function(e){this.pageInfo.currentPage=e,this.onSearch()},handleSelectionChange:function(e){this.multipleSelection=e},openDetail:function(e){this.$common.OpenNewPage(this,"detail",e)}}}}});
//# sourceMappingURL=4.aaaf847800d1542b440e.js.map