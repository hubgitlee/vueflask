webpackJsonp([8],{SWZM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("cnvT"),a=i.n(l);for(var o in l)"default"!==o&&function(e){i.d(t,e,function(){return l[e]})}(o);var r=i("X33F");var n=function(e){i("UKg1")},s=i("C7Lr")(a.a,r.a,!1,n,null,null);t.default=s.exports},UKg1:function(e,t){},X33F:function(e,t,i){"use strict";var l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container _globalfiler"},[i("el-form",{ref:"formSearch",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formSearch}},[i("el-form-item",{attrs:{label:"检材编号",prop:"SampleID"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"检材编号"},model:{value:e.formSearch.SampleID,callback:function(t){e.$set(e.formSearch,"SampleID",t)},expression:"formSearch.SampleID"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"添加时间",prop:"add_time"}},[i("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formSearch.add_time,callback:function(t){e.$set(e.formSearch,"add_time",t)},expression:"formSearch.add_time"}})],1),e._v(" "),i("el-form-item",{staticStyle:{"margin-left":"0px"},attrs:{label:" "}},[i("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),i("el-button",{attrs:{type:"warning"},on:{click:e.onReset}},[e._v("重置")])],1)],1),e._v(" "),i("el-row",{staticClass:"mgb15"},[i("el-button",{attrs:{size:"small",round:"",type:"danger"},on:{click:e.deleteMany}},[e._v("批量删除")]),e._v(" "),i("el-button",{attrs:{size:"small",round:"",type:"primary"},on:{click:e.handleAdd}},[e._v(" 新 增 ")]),e._v(" "),i("el-button",{attrs:{size:"small",round:"",type:"primary"},on:{click:e.onOpenAdd}},[e._v("导入Codis文件\n            \n        ")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"22"}}),e._v(" "),i("el-table-column",{attrs:{prop:"SampleID",label:"检材编号",width:"150",align:"center",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{prop:"D3S1358",label:"D3S1358",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"vWA",label:"vWA",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D16S539",label:"D16S539",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"CSF1PO",label:"CSF1PO",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"TPOX",label:"TPOX",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"Yindel",label:"Yindel",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"Amel",label:"Amel",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D8S1179",label:"D8S1179",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D21S11",label:"D21S11",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D18S51",label:"D18S51",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"DYS391",label:"DYS391",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D2S441",label:"D2S441",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D19S433",label:"D19S433",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"TH01",label:"TH01",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"FGA",label:"FGA",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D22S1045",label:"D22S1045",align:"center",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D5S818",label:"D5S818",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D13S317",label:"D13S317",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D7S820",label:"D7S820",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"SE33",label:"SE33",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D10S1248",label:"D10S1248",align:"center",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D1S1656",label:"D1S1656",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D12S391",label:"D12S391",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"D2S1338",label:"D2S1338",align:"center",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"add_time",label:"添加日期",align:"center",formatter:this.$common.timestampToTime,width:"160",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("el-pagination",{attrs:{background:"",layout:"total,sizes,prev, pager, next,jumper","current-page":e.pageInfo.currentPage,"page-size":e.pageInfo.pageSize,total:e.pageInfo.pageTotal,"page-sizes":[10,20,30,40,50]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-dialog",{attrs:{title:e.formEditTitle,visible:e.dialogEdittVisible,width:"700px"},on:{"update:visible":function(t){e.dialogEdittVisible=t},close:function(t){return e.closeDialog("formEdit")}}},[i("el-form",{ref:"formEdit",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,rules:e.rulesEdit,disabled:e.formEditDisabled,inline:!0,model:e.formEdit}},[i("el-form-item",{attrs:{prop:"SampleID",label:"检材编号"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"检材编号"},model:{value:e.formEdit.SampleID,callback:function(t){e.$set(e.formEdit,"SampleID",t)},expression:"formEdit.SampleID"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D3S1358",label:"D3S1358"}},[i("el-input",{model:{value:e.formEdit.D3S1358,callback:function(t){e.$set(e.formEdit,"D3S1358",t)},expression:"formEdit.D3S1358"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"vWA",label:"vWA"}},[i("el-input",{model:{value:e.formEdit.vWA,callback:function(t){e.$set(e.formEdit,"vWA",t)},expression:"formEdit.vWA"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D16S539",label:"D16S539"}},[i("el-input",{model:{value:e.formEdit.D16S539,callback:function(t){e.$set(e.formEdit,"D16S539",t)},expression:"formEdit.D16S539"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"CSF1PO",label:"CSF1PO"}},[i("el-input",{model:{value:e.formEdit.CSF1PO,callback:function(t){e.$set(e.formEdit,"CSF1PO",t)},expression:"formEdit.CSF1PO"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"TPOX",label:"TPOX"}},[i("el-input",{model:{value:e.formEdit.TPOX,callback:function(t){e.$set(e.formEdit,"TPOX",t)},expression:"formEdit.TPOX"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"Yindel",label:"Yindel"}},[i("el-input",{model:{value:e.formEdit.Yindel,callback:function(t){e.$set(e.formEdit,"Yindel",t)},expression:"formEdit.Yindel"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"Amel",label:"Amel"}},[i("el-input",{model:{value:e.formEdit.Amel,callback:function(t){e.$set(e.formEdit,"Amel",t)},expression:"formEdit.Amel"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D8S1179",label:"D8S1179"}},[i("el-input",{model:{value:e.formEdit.D8S1179,callback:function(t){e.$set(e.formEdit,"D8S1179",t)},expression:"formEdit.D8S1179"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D21S11",label:"D21S11"}},[i("el-input",{model:{value:e.formEdit.D21S11,callback:function(t){e.$set(e.formEdit,"D21S11",t)},expression:"formEdit.D21S11"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D18S51",label:"D18S51"}},[i("el-input",{model:{value:e.formEdit.D18S51,callback:function(t){e.$set(e.formEdit,"D18S51",t)},expression:"formEdit.D18S51"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"DYS391",label:"DYS391"}},[i("el-input",{model:{value:e.formEdit.DYS391,callback:function(t){e.$set(e.formEdit,"DYS391",t)},expression:"formEdit.DYS391"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D2S441",label:"D2S441"}},[i("el-input",{model:{value:e.formEdit.D2S441,callback:function(t){e.$set(e.formEdit,"D2S441",t)},expression:"formEdit.D2S441"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D19S433",label:"D19S433"}},[i("el-input",{model:{value:e.formEdit.D19S433,callback:function(t){e.$set(e.formEdit,"D19S433",t)},expression:"formEdit.D19S433"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"TH01",label:"TH01"}},[i("el-input",{model:{value:e.formEdit.TH01,callback:function(t){e.$set(e.formEdit,"TH01",t)},expression:"formEdit.TH01"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"FGA",label:"FGA"}},[i("el-input",{model:{value:e.formEdit.FGA,callback:function(t){e.$set(e.formEdit,"FGA",t)},expression:"formEdit.FGA"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D22S1045",label:"D22S1045"}},[i("el-input",{model:{value:e.formEdit.D22S1045,callback:function(t){e.$set(e.formEdit,"D22S1045",t)},expression:"formEdit.D22S1045"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D5S818",label:"D5S818"}},[i("el-input",{model:{value:e.formEdit.D5S818,callback:function(t){e.$set(e.formEdit,"D5S818",t)},expression:"formEdit.D5S818"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D13S317",label:"D13S317"}},[i("el-input",{model:{value:e.formEdit.D13S317,callback:function(t){e.$set(e.formEdit,"D13S317",t)},expression:"formEdit.D13S317"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D7S820",label:"D7S820"}},[i("el-input",{model:{value:e.formEdit.D7S820,callback:function(t){e.$set(e.formEdit,"D7S820",t)},expression:"formEdit.D7S820"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"SE33",label:"SE33"}},[i("el-input",{model:{value:e.formEdit.SE33,callback:function(t){e.$set(e.formEdit,"SE33",t)},expression:"formEdit.SE33"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D10S1248",label:"D10S1248"}},[i("el-input",{model:{value:e.formEdit.D10S1248,callback:function(t){e.$set(e.formEdit,"D10S1248",t)},expression:"formEdit.D10S1248"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D1S1656",label:"D1S1656"}},[i("el-input",{model:{value:e.formEdit.D1S1656,callback:function(t){e.$set(e.formEdit,"D1S1656",t)},expression:"formEdit.D1S1656"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D12S391",label:"D12S391"}},[i("el-input",{model:{value:e.formEdit.D12S391,callback:function(t){e.$set(e.formEdit,"D12S391",t)},expression:"formEdit.D12S391"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"D2S1338",label:"D2S1338"}},[i("el-input",{model:{value:e.formEdit.D2S1338,callback:function(t){e.$set(e.formEdit,"D2S1338",t)},expression:"formEdit.D2S1338"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogEdittVisible=!1}}},[e._v("取 消")]),e._v(" "),e.formEditDisabled?e._e():i("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.codisEditTitle,visible:e.codisEdittVisible,width:"550px"},on:{"update:visible":function(t){e.codisEdittVisible=t},close:function(t){return e.closeCodis("formEdit")}}},[i("el-form",{ref:"formEdit",staticClass:"demo-form-inline",attrs:{"label-position":"right","label-width":"100px",rules:e.codisrulesEdit,disabled:e.codisEditDisabled,inline:!1,model:e.formEdit}},[i("el-form-item",{attrs:{label:"导入文件"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("codis文件导入\n                    "),i("input",{staticStyle:{opacity:"0",width:"80px",height:"100%",position:"absolute",top:"0",left:"0",cursor:"pointer"},attrs:{type:"file"},on:{change:function(t){return e.getFile(t)}}})]),e._v(" "),i("span",{class:{"el-icon-success":this.file,"el-icon-warning":!this.file}},[e._v(e._s(this.file?"已上传":"未上传"))])],1),e._v(" "),i("el-form-item",{attrs:{label:"文件名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"文件名称"},model:{value:e.formEdit.name,callback:function(t){e.$set(e.formEdit,"name",t)},expression:"formEdit.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文件类型",prop:"type"}},[i("el-input",{attrs:{placeholder:"文件类型"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.codisEdittVisible=!1}}},[e._v("取 消")]),e._v(" "),e.codisEditDisabled?e._e():i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSave(t)}}},[e._v("Codis导入")])],1)],1)],1)},staticRenderFns:[]};t.a=l},cnvT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(i("aA9S")),a=o(i("qzrg"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"globalfiler",data:function(){return{listLoading:!1,pageInfo:{currentPage:1,pageSize:10,pageTotal:80},formSearch:{SampleID:"",createStartDate:null,createEndDate:null,add_time:null},formEdit:{SampleID:"",D3S1358:"",vWA:"",D16S539:"",CSF1PO:"",TPOX:"",Yindel:"",Amel:"",D8S1179:"",D21S11:"",D18S51:"",DYS391:"",D2S441:"",D19S433:"",TH01:"",FGA:"",D22S1045:"",D5S818:"",D13S317:"",D7S820:"",SE33:"",D10S1248:"",D1S1656:"",D12S391:"",D2S1338:""},rulesEdit:{SampleID:[{required:!0,message:"请输入检材编号",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}]},formEditTitle:"编辑",formEditDisabled:!1,dialogEdittVisible:!1,dialogType:"",tableData:[{id:"",SampleID:"",D3S1358:"",vWA:"",D16S539:"",CSF1PO:"",TPOX:"",Yindel:"",Amel:"",D8S1179:"",D21S11:"",D18S51:"",DYS391:"",D2S441:"",D19S433:"",TH01:"",FGA:"",D22S1045:"",D5S818:"",D13S317:"",D7S820:"",SE33:"",D10S1248:"",D1S1656:"",D12S391:"",D2S1338:"",add_time:null}],labelPosition:"right",labelWidth:"80px",formLabelWidth:"120px",multipleSelection:[],isTableShow:!0,isEditShow:!1,editBtnText:"保存",inputVisible:!1,inputValue:"",codisEditTitle:"codis导入",codisEditDisabled:!1,codisEdittVisible:!1,codisrulesEdit:{type:[{trigger:"change"}]}}},computed:{},filters:{convertPublic:function(e){return"未发布"==e?"执行发布":"已发布"==e?"取消发布":"执行发布"},convertContent:function(e){return e?e.replace(/<[^>]*>/gi,"").replace(/\&nbsp;/g,""):""},convertKeyWords:function(e){return e&&e.length>0?e.join(","):""}},mounted:function(){this.onSearch(),this.initCKEditor()},methods:{onSearch:function(){var e=this;this.listLoading=!0,this.formSearch.add_time&&(this.formSearch.createStartDate=this.formSearch.add_time[0],this.formSearch.createEndDate=this.formSearch.add_time[1]);var t=(0,l.default)({},this.formSearch,this.pageInfo);a.default.globalfilerApi.getList(t).then(function(t){if(console.log(t),e.listLoading=!1,t&&t.data){var i=t.data;"SUCCESS"==i.status?(e.pageInfo.pageTotal=i.count,e.tableData=i.data):i.message&&e.$message({message:i.message,type:"error"})}}).catch(function(t){e.listLoading=!1,e.$message({message:"查询异常，请重试",type:"error"})})},handleSave:function(){"add"==this.dialogType?this.save():"edit"==this.dialogType?this.update():this.$message({message:"操作异常",type:"error"})},save:function(){var e=this;this.$refs.formEdit.validate(function(t){if(t){var i=(0,l.default)({},e.formEdit);a.default.globalfilerApi.add(i).then(function(t){if(console.log(t),t&&t.data){var i=t.data;if(console.log("000"),i&&"SUCCESS"==i.status)return e.$message({message:"执行成功",type:"success"}),e.dialogEdittVisible=!1,void e.onSearch()}e.$message({message:"执行失败，请重试",type:"error"})}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"})})}})},onOpenAdd:function(){this.codisEdittVisible=!0},closeCodis:function(e){this.$refs[e].resetFields()},getFile:function(e){this.file=e.target.files[0],e.target.value="",this.file?this.formEdit.name=this.file.name:this.formEdit.name="",console.log(this.file)},onSave:function(e){},update:function(){var e=this;this.$refs.formEdit.validate(function(t){if(t){var i=(0,l.default)({},e.formEdit);i.content=e.EditorObj.getData(),a.default.kbmsApi.update(i).then(function(t){if(t&&t.data){var i=t.data;if(i&&"SUCCESS"==i.status)return e.$message({message:"执行成功",type:"success"}),e.closeEdit(),void e.onSearch()}e.$message({message:"执行失败，请重试",type:"error"})}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"})})}})},handleDelete:function(e,t){var i=this,l=t.id;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.default.globalfilerApi.delete({id:l}).then(function(e){i.$common.isSuccess(e,function(){i.onSearch()})}).catch(function(e){i.$message({message:"执行失败，请重试",type:"error"})})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},deleteMany:function(){var e=this,t=this.multipleSelection.map(function(e){return e.id});0!=t.length?this.$confirm("此操作将批量永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.default.kbmsApi.deleteBatch({ids:t}).then(function(t){e.$common.isSuccess(t,function(){e.onSearch()})}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请选择要删除的项",type:"warn"})},handlePublic:function(){this.formEdit.publicState="已发布","add"==this.dialogType?this.save():"edit"==this.dialogType?this.update():this.$message({message:"操作异常",type:"error"})},onReset:function(){this.$refs.formSearch.resetFields()},handleAdd:function(){var e=this;this.dialogEdittVisible=!0,this.$nextTick(function(){e.dialogType="add",e.formEditTitle="新增",e.formEditDisabled=!1})},handleEdit:function(e,t){var i=this;this.openEdit(),this.$nextTick(function(){i.dialogType="edit",i.formEditTitle="编辑",i.editBtnText="保存修改",i.formEditDisabled=!1,i.formEdit=(0,l.default)({},t),i.EditorObj.setData(null==i.formEdit.content?"":i.formEdit.content),i.EditorObj.isReadOnly=!1})},handleDetail:function(e,t){var i=this;this.openEdit(),this.$nextTick(function(){i.dialogType="show",i.formEditTitle="详情",i.formEditDisabled=!0,i.formEdit=(0,l.default)({},t),i.EditorObj.setData(null==i.formEdit.content?"":i.formEdit.content),i.EditorObj.isReadOnly=!0})},closeDialog:function(e){this.$refs[e].resetFields()},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.onSearch()},handleCurrentChange:function(e){this.pageInfo.currentPage=e,this.onSearch()},handleSelectionChange:function(e){this.multipleSelection=e},openDetail:function(e){this.$common.OpenNewPage(this,"detail",e)},openEdit:function(){this.isTableShow=!1,this.isEditShow=!0},closeEdit:function(){this.$refs.formEdit.resetFields(),this.isTableShow=!0,this.isEditShow=!1},initCKEditor:function(){var e=this;DecoupledEditor.create(document.querySelector(".document-editor__editable"),{ckfinder:{uploadUrl:"/api/img-api/upload"}}).then(function(t){document.querySelector(".document-editor__toolbar").appendChild(t.ui.view.toolbar.element),e.EditorObj=t,console.log("初始化富编辑器")}).catch(function(e){console.error(e),console.log("初始化富编辑器失败")})}}}}});
//# sourceMappingURL=8.c879da41149348c11cc0.js.map